<div class="container row heading">
    <div class="col-lg-12">
        <h4>Pipelines Status</h4>
        <p></p>
    </div>
</div>

<app-spinner [enable]="show_spinner"></app-spinner>

<div *ngIf="!show_spinner">
    <div class="container row">
        <div class="col-lg-12">
            <h6 class="text-primary">Last refreshed {{ now | date:'MMM d, y, h:mm:ss a'}}</h6>
            <p></p>
        </div>
    </div>

    <div class="row table-data">
        <div class="col-lg-12">
            <table class="table table-striped table-responsive">
                <thead class="thead-dark">
                <tr>
                    <th class="text-center" scope="col">Pipeline Name</th>
                    <th class="text-center" scope="col">Status</th>
                    <th class="text-center" scope="col">Revision ID</th>
                    <th class="text-center" scope="col">Revision Summary</th>
                </tr>
                </thead>
                <tbody class="text-center">
                <tr *ngFor="let pipeline of pipelines$|async">
                    <td>{{pipeline.name}}</td>
                    <td
                            [ngClass]="[pipeline.status.toUpperCase().trim() !== 'SUCCEEDED' ? 'bg-danger':'']">
                        {{pipeline.status}}
                    </td>
                    <td>{{pipeline.revision_id}}</td>
                    <td>{{pipeline.revision_summary}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
