<div class="container row heading">
  <div class="col-lg-12">
    <h4>Product Launch Status</h4>
    <p></p>
  </div>
</div>

<app-spinner [enable]="show_spinner"></app-spinner>

<div *ngIf="!show_spinner">
  <div class="container row">
    <div class="col-lg-12">
      <h6 class="text-primary">Last refreshed {{ now | date:'MMM d, y, h:mm:ss a'}}</h6>
      <p></p>
    </div>
  </div>

  <div class="row table-data">
    <div class="col-lg-12">
      <table class="table table-striped table-responsive">
        <thead class="thead-dark">
        <tr>
          <th class="text-center" scope="col">Account ID</th>
          <th class="text-center" scope="col">Region</th>
          <th class="text-center" scope="col">Launch</th>
          <th class="text-center" scope="col">Portfolio</th>
          <th class="text-center" scope="col">Product</th>
          <th class="text-center" scope="col">Expected Version</th>
          <th class="text-center" scope="col">Actual Version</th>
          <th class="text-center" scope="col">Active</th>
          <th class="text-center" scope="col">Status</th>
        </tr>
        </thead>
        <tbody class="text-center">
        <tr *ngFor="let list_launch of list_launches$|async">
          <td>{{list_launch.account_id}}</td>
          <td>{{list_launch.region}}</td>
          <td>{{list_launch.launch}}</td>
          <td>{{list_launch.portfolio}}</td>
          <td>{{list_launch.product}}</td>
          <td
            [ngClass]="[list_launch.expected_version !== list_launch.actual_version ? 'bg-warning':'']">
            {{list_launch.expected_version}}
          </td>
          <td
            [ngClass]="[list_launch.expected_version !== list_launch.actual_version ? 'bg-warning':'']">
            {{list_launch.actual_version}}
          </td>
          <td>{{list_launch.active}}</td>
          <td [ngClass]="[list_launch.status.toUpperCase().trim() !== 'AVAILABLE' ? 'bg-danger':'']">
            {{list_launch.status}}
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
